this is the utility function of version 1
